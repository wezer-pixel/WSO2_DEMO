Started by user admin
Obtained Jenkinsfile from git https://github.com/wezer-pixel/WSO2_DEMO.git
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/wso2apim-tutorial
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
The recommended git tool is: git
using credential wso2-gh-token
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/wso2apim-tutorial/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/wezer-pixel/WSO2_DEMO.git # timeout=10
Fetching upstream changes from https://github.com/wezer-pixel/WSO2_DEMO.git
 > git --version # timeout=10
 > git --version # 'git version 2.34.1'
using GIT_ASKPASS to set credentials wso2-gh-token
 > git fetch --tags --force --progress -- https://github.com/wezer-pixel/WSO2_DEMO.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse origin/main^{commit} # timeout=10
Checking out Revision efa2ba5e32f0fc4b8e4f5f837344c1acfbd2d737 (origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f efa2ba5e32f0fc4b8e4f5f837344c1acfbd2d737 # timeout=10
Commit message: "fix(build): Enhance Jenkinsfile to check for Java and Maven, and update build stages for microservices"
 > git rev-list --no-walk b2311fbb335bed4e4a6f3038fa3f4e4cbc8051db # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (System Check)
[Pipeline] sh
+ echo === System Information ===
=== System Information ===
+ whoami
jenkins
+ pwd
/var/lib/jenkins/workspace/wso2apim-tutorial
+ echo === Available Commands ===
=== Available Commands ===
+ which docker
/usr/bin/docker
+ which git
/usr/bin/git
+ which java
/usr/bin/java
+ which mvn
/usr/bin/mvn
+ which yq
+ echo ❌ yq not found - will use sed
❌ yq not found - will use sed
+ which sed
/usr/bin/sed
+ echo === Docker Check ===
=== Docker Check ===
+ command -v docker
+ docker --version
Docker version 27.5.1, build 27.5.1-0ubuntu3~22.04.2
+ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Checkout SCM)
[Pipeline] cleanWs
[WS-CLEANUP] Deleting project workspace...
[WS-CLEANUP] Deferred wipeout is used...
[WS-CLEANUP] done
[Pipeline] checkout
The recommended git tool is: git
using credential wso2-gh-token
Cloning the remote Git repository
Cloning repository https://github.com/wezer-pixel/WSO2_DEMO.git
 > git init /var/lib/jenkins/workspace/wso2apim-tutorial # timeout=10
Fetching upstream changes from https://github.com/wezer-pixel/WSO2_DEMO.git
 > git --version # timeout=10
 > git --version # 'git version 2.34.1'
using GIT_ASKPASS to set credentials wso2-gh-token
 > git fetch --tags --force --progress -- https://github.com/wezer-pixel/WSO2_DEMO.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/wezer-pixel/WSO2_DEMO.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
 > git rev-parse origin/main^{commit} # timeout=10
Checking out Revision efa2ba5e32f0fc4b8e4f5f837344c1acfbd2d737 (origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f efa2ba5e32f0fc4b8e4f5f837344c1acfbd2d737 # timeout=10
Commit message: "fix(build): Enhance Jenkinsfile to check for Java and Maven, and update build stages for microservices"
[Pipeline] sh
+ echo === Workspace Contents ===
=== Workspace Contents ===
+ ls -la
total 52
drwxr-xr-x  6 jenkins jenkins 4096 Jul 26 00:25 .
drwxr-xr-x  9 jenkins jenkins 4096 Jul 26 00:25 ..
drwxr-xr-x  8 jenkins jenkins 4096 Jul 26 00:25 .git
-rw-r--r--  1 jenkins jenkins   97 Jul 26 00:25 .gitignore
-rw-r--r--  1 jenkins jenkins 8420 Jul 26 00:25 Jenkinsfile
drwxr-xr-x  7 jenkins jenkins 4096 Jul 26 00:25 backends
-rw-r--r--  1 jenkins jenkins 2790 Jul 26 00:25 docker-compose.yml
drwxr-xr-x 10 jenkins jenkins 4096 Jul 26 00:25 dockerfiles
drwxr-xr-x  4 jenkins jenkins 4096 Jul 26 00:25 resources
-rw-r--r--  1 jenkins jenkins 1082 Jul 26 00:25 setup-job.yaml
-rw-r--r--  1 jenkins jenkins  595 Jul 26 00:25 wso2apim.yaml
+ echo === Checking for backends directory ===
=== Checking for backends directory ===
+ ls -la backends/
total 28
drwxr-xr-x 7 jenkins jenkins 4096 Jul 26 00:25 .
drwxr-xr-x 6 jenkins jenkins 4096 Jul 26 00:25 ..
drwxr-xr-x 3 jenkins jenkins 4096 Jul 26 00:25 soap-service
drwxr-xr-x 3 jenkins jenkins 4096 Jul 26 00:25 telecom-backends
drwxr-xr-x 3 jenkins jenkins 4096 Jul 26 00:25 telecom-soap-service
drwxr-xr-x 3 jenkins jenkins 4096 Jul 26 00:25 train-location-simulator
drwxr-xr-x 3 jenkins jenkins 4096 Jul 26 00:25 train-schedule
+ echo === Current working directory ===
=== Current working directory ===
+ pwd
/var/lib/jenkins/workspace/wso2apim-tutorial
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Debug Stage)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
=== DEBUG: This stage should execute ===
[Pipeline] echo
DOCKERHUB_USERNAME: wezer
[Pipeline] echo
DOCKERHUB_CREDENTIALS_ID: wso2-docker-token
[Pipeline] fileExists
[Pipeline] echo
✅ Found directory: dockerfiles/apim
[Pipeline] fileExists
[Pipeline] echo
✅ Found directory: dockerfiles/backends
[Pipeline] fileExists
[Pipeline] echo
✅ Found directory: dockerfiles/backends/rest
[Pipeline] fileExists
[Pipeline] echo
✅ Found directory: dockerfiles/backends/soap
[Pipeline] fileExists
[Pipeline] echo
✅ Found directory: dockerfiles/keycloak-setup-script
[Pipeline] fileExists
[Pipeline] echo
✅ Found directory: dockerfiles/scripts
[Pipeline] fileExists
[Pipeline] echo
✅ Found directory: dockerfiles/streaming-integrator
[Pipeline] fileExists
[Pipeline] echo
✅ Found directory: dockerfiles/streaming-integrator/build-image
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build and Push All Images)
[Pipeline] parallel
[Pipeline] { (Branch: mi-runtime)
[Pipeline] { (Branch: si-runtime)
[Pipeline] { (Branch: apim-scripts)
[Pipeline] { (Branch: train-schedule-backend)
[Pipeline] { (Branch: train-location-simulator)
[Pipeline] { (Branch: telecom-backend)
[Pipeline] { (Branch: soap-service-backend)
[Pipeline] { (Branch: telecom-soap-backend)
[Pipeline] stage
[Pipeline] { (mi-runtime)
[Pipeline] stage
[Pipeline] { (si-runtime)
[Pipeline] stage
[Pipeline] { (apim-scripts)
[Pipeline] stage
[Pipeline] { (train-schedule-backend)
[Pipeline] stage
[Pipeline] { (train-location-simulator)
[Pipeline] stage
[Pipeline] { (telecom-backend)
[Pipeline] stage
[Pipeline] { (soap-service-backend)
[Pipeline] stage
[Pipeline] { (telecom-soap-backend)
[Pipeline] script
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] echo
=== BUILDANDPUSH: Starting for dockerfiles/micro-integrator ===
[Pipeline] sh
+ git rev-parse --short HEAD
[Pipeline] echo
=== BUILDANDPUSH: Starting for dockerfiles/streaming-integrator ===
[Pipeline] sh
+ git rev-parse --short HEAD
[Pipeline] echo
=== BUILDANDPUSH: Starting for dockerfiles/scripts ===
[Pipeline] sh
+ git rev-parse --short HEAD
[Pipeline] echo
=== BUILDANDPUSH: Starting for backends/train-schedule ===
[Pipeline] sh
+ git rev-parse --short HEAD
[Pipeline] echo
=== BUILDANDPUSH: Starting for backends/train-location-simulator ===
[Pipeline] sh
+ git rev-parse --short HEAD
[Pipeline] echo
=== BUILDANDPUSH: Starting for backends/telecom-backends ===
[Pipeline] sh
+ git rev-parse --short HEAD
[Pipeline] echo
=== BUILDANDPUSH: Starting for backends/soap-service ===
[Pipeline] sh
+ git rev-parse --short HEAD
[Pipeline] echo
=== BUILDANDPUSH: Starting for backends/telecom-soap-service ===
[Pipeline] sh
+ git rev-parse --short HEAD
[Pipeline] echo
--- Building and Pushing wezer/mi-runtime:efa2ba5 from path dockerfiles/micro-integrator ---
[Pipeline] dir
Running in /var/lib/jenkins/workspace/wso2apim-tutorial/dockerfiles/micro-integrator
[Pipeline] {
[Pipeline] echo
--- Building and Pushing wezer/si-runtime:efa2ba5 from path dockerfiles/streaming-integrator ---
[Pipeline] dir
Running in /var/lib/jenkins/workspace/wso2apim-tutorial/dockerfiles/streaming-integrator
[Pipeline] {
[Pipeline] echo
--- Building and Pushing wezer/apim-scripts:efa2ba5 from path dockerfiles/scripts ---
[Pipeline] dir
Running in /var/lib/jenkins/workspace/wso2apim-tutorial/dockerfiles/scripts
[Pipeline] {
[Pipeline] echo
--- Building and Pushing wezer/train-schedule-backend:efa2ba5 from path backends/train-schedule ---
[Pipeline] dir
Running in /var/lib/jenkins/workspace/wso2apim-tutorial/backends/train-schedule
[Pipeline] {
[Pipeline] echo
--- Building and Pushing wezer/train-location-simulator:efa2ba5 from path backends/train-location-simulator ---
[Pipeline] dir
Running in /var/lib/jenkins/workspace/wso2apim-tutorial/backends/train-location-simulator
[Pipeline] {
[Pipeline] echo
--- Building and Pushing wezer/telecom-backend:efa2ba5 from path backends/telecom-backends ---
[Pipeline] dir
Running in /var/lib/jenkins/workspace/wso2apim-tutorial/backends/telecom-backends
[Pipeline] {
[Pipeline] echo
--- Building and Pushing wezer/soap-service-backend:efa2ba5 from path backends/soap-service ---
[Pipeline] dir
Running in /var/lib/jenkins/workspace/wso2apim-tutorial/backends/soap-service
[Pipeline] {
[Pipeline] echo
--- Building and Pushing wezer/telecom-soap-backend:efa2ba5 from path backends/telecom-soap-service ---
[Pipeline] dir
Running in /var/lib/jenkins/workspace/wso2apim-tutorial/backends/telecom-soap-service
[Pipeline] {
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] echo
✅ Found pom.xml, running Maven build...
[Pipeline] isUnix
[Pipeline] sh
+ chmod +x ./mvnw
[Pipeline] echo
✅ Found pom.xml, running Maven build...
[Pipeline] isUnix
[Pipeline] sh
+ chmod +x ./mvnw
[Pipeline] echo
✅ Found pom.xml, running Maven build...
[Pipeline] isUnix
[Pipeline] sh
+ chmod +x ./mvnw
[Pipeline] echo
✅ Found pom.xml, running Maven build...
[Pipeline] isUnix
[Pipeline] sh
+ chmod +x ./mvnw
[Pipeline] echo
✅ Found pom.xml, running Maven build...
[Pipeline] isUnix
[Pipeline] sh
+ chmod +x ./mvnw
[Pipeline] echo
✅ Found Dockerfile, building and pushing Docker image...
[Pipeline] echo
✅ Found Dockerfile, building and pushing Docker image...
[Pipeline] echo
✅ Found Dockerfile, building and pushing Docker image...
[Pipeline] sh
+ ./mvnw clean package -DskipTests
Warning: JAVA_HOME environment variable is not set.
./mvnw: 219: cannot open /var/lib/jenkins/workspace/wso2apim-tutorial/backends/train-schedule/.mvn/wrapper/maven-wrapper.properties: No such file
/var/lib/jenkins/workspace/wso2apim-tutorial/backends/train-schedule/.mvn/wrapper/maven-wrapper.jar: No such file or directory
Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain
Caused by: java.lang.ClassNotFoundException: org.apache.maven.wrapper.MavenWrapperMain
[Pipeline] sh
+ ./mvnw clean package -DskipTests
Warning: JAVA_HOME environment variable is not set.
./mvnw: 219: cannot open /var/lib/jenkins/workspace/wso2apim-tutorial/backends/train-location-simulator/.mvn/wrapper/maven-wrapper.properties: No such file
/var/lib/jenkins/workspace/wso2apim-tutorial/backends/train-location-simulator/.mvn/wrapper/maven-wrapper.jar: No such file or directory
Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain
Caused by: java.lang.ClassNotFoundException: org.apache.maven.wrapper.MavenWrapperMain
[Pipeline] sh
+ ./mvnw clean package -DskipTests
Warning: JAVA_HOME environment variable is not set.
./mvnw: 219: cannot open /var/lib/jenkins/workspace/wso2apim-tutorial/backends/telecom-backends/.mvn/wrapper/maven-wrapper.properties: No such file
/var/lib/jenkins/workspace/wso2apim-tutorial/backends/telecom-backends/.mvn/wrapper/maven-wrapper.jar: No such file or directory
Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain
Caused by: java.lang.ClassNotFoundException: org.apache.maven.wrapper.MavenWrapperMain
[Pipeline] sh
+ ./mvnw clean package -DskipTests
Warning: JAVA_HOME environment variable is not set.
./mvnw: 219: cannot open /var/lib/jenkins/workspace/wso2apim-tutorial/backends/soap-service/.mvn/wrapper/maven-wrapper.properties: No such file
/var/lib/jenkins/workspace/wso2apim-tutorial/backends/soap-service/.mvn/wrapper/maven-wrapper.jar: No such file or directory
Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain
Caused by: java.lang.ClassNotFoundException: org.apache.maven.wrapper.MavenWrapperMain
[Pipeline] sh
+ ./mvnw clean package -DskipTests
Warning: JAVA_HOME environment variable is not set.
./mvnw: 219: cannot open /var/lib/jenkins/workspace/wso2apim-tutorial/backends/telecom-soap-service/.mvn/wrapper/maven-wrapper.properties: No such file
/var/lib/jenkins/workspace/wso2apim-tutorial/backends/telecom-soap-service/.mvn/wrapper/maven-wrapper.jar: No such file or directory
Error: Could not find or load main class org.apache.maven.wrapper.MavenWrapperMain
Caused by: java.lang.ClassNotFoundException: org.apache.maven.wrapper.MavenWrapperMain
[Pipeline] isUnix
[Pipeline] isUnix
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker build -t wezer/mi-runtime:efa2ba5 --build-arg BASE_IMAGE=wso2/wso2mi:4.1.0 .
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  3.895MB
Step 1/6 : ARG BASE_IMAGE
Step 2/6 : FROM ${BASE_IMAGE}
[Pipeline] sh
manifest for wso2/wso2mi:4.1.0 not found: manifest unknown: manifest unknown
+ docker build -t wezer/si-runtime:efa2ba5 --build-arg BASE_IMAGE=wso2/wso2si:latest .
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon   25.6kB
Step 1/9 : ARG BASE_IMAGE
Step 2/9 : FROM ${BASE_IMAGE}
[Pipeline] sh
+ docker build -t wezer/apim-scripts:efa2ba5 .
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  1.939MB
Step 1/16 : FROM alpine:3.7
latest: Pulling from wso2/wso2si
5a7813e071bf: Pulling fs layer
b2642591a99e: Pulling fs layer
1ef232f9184d: Pulling fs layer
74dcd93edfdb: Pulling fs layer
491444e08f90: Pulling fs layer
17f2ac4bb86e: Pulling fs layer
e0616da9e1ca: Pulling fs layer
4f4fb700ef54: Pulling fs layer
17f2ac4bb86e: Waiting
e0616da9e1ca: Waiting
4f4fb700ef54: Waiting
74dcd93edfdb: Waiting
491444e08f90: Waiting
3.7: Pulling from library/alpine
5a7813e071bf: Verifying Checksum
5a7813e071bf: Download complete
b2642591a99e: Download complete
74dcd93edfdb: Download complete
491444e08f90: Verifying Checksum
491444e08f90: Download complete
1ef232f9184d: Verifying Checksum
1ef232f9184d: Download complete
4f4fb700ef54: Verifying Checksum
4f4fb700ef54: Download complete
5d20c808ce19: Pulling fs layer
5a7813e071bf: Pull complete
e0616da9e1ca: Verifying Checksum
e0616da9e1ca: Download complete
[Pipeline] }
5d20c808ce19: Verifying Checksum
5d20c808ce19: Download complete
17f2ac4bb86e: Verifying Checksum
17f2ac4bb86e: Download complete
[Pipeline] }
5d20c808ce19: Pull complete
[Pipeline] }
Digest: sha256:8421d9a84432575381bfabd248f1eb56f3aa21d9d7cd2511583c68c9b7511d10
Status: Downloaded newer image for alpine:3.7
[Pipeline] }
 ---> 6d1ef012b567
Step 2/16 : RUN apk --no-cache add curl jq
b2642591a99e: Pull complete
[Pipeline] }
 ---> Running in e59714dde8e6
1ef232f9184d: Pull complete
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz
(1/6) Installing ca-certificates (20190108-r0)
(2/6) Installing libssh2 (1.9.0-r1)
(3/6) Installing libcurl (7.61.1-r3)
(4/6) Installing curl (7.61.1-r3)
(5/6) Installing oniguruma (6.6.1-r0)
(6/6) Installing jq (1.5-r5)
Executing busybox-1.27.2-r11.trigger
Executing ca-certificates-20190108-r0.trigger
OK: 7 MiB in 19 packages
[Pipeline] }
74dcd93edfdb: Pull complete
491444e08f90: Pull complete
[Pipeline] // dir
 ---> Removed intermediate container e59714dde8e6
 ---> 1dbc257075d2
Step 3/16 : COPY setup.sh /
[Pipeline] // dir
17f2ac4bb86e: Pull complete
[Pipeline] // dir
e0616da9e1ca: Pull complete
 ---> b037ac3a5e47
Step 4/16 : COPY tenant-creation.sh /
[Pipeline] // dir
4f4fb700ef54: Pull complete
[Pipeline] }
Digest: sha256:3c59010a00ac6535690bf882699ce6c17993f83f8d4d4565fce10d6fde2a83d5
Status: Downloaded newer image for wso2/wso2si:latest
[Pipeline] }
 ---> ee8e3c755ba2
Step 3/9 : MAINTAINER WSO2 Docker Maintainers "dev@wso2.org"
[Pipeline] }
 ---> 48729b05e728
Step 5/16 : RUN ["mkdir", "/quantis-resources"]
[Pipeline] }
 ---> Running in 24d1b32407a4
 ---> Running in 415dddce47da
[Pipeline] // dir
[Pipeline] }
 ---> Removed intermediate container 415dddce47da
 ---> 25560400e15b
Step 4/9 : ARG HOST_APPS_DIR=./siddhi-files
 ---> Running in bf86465ca929
[Pipeline] // withEnv
[Pipeline] }
 ---> Removed intermediate container 24d1b32407a4
 ---> 4f6bc22a3c83
Step 6/16 : COPY quantis-resources/ /quantis-resources/
 ---> Removed intermediate container bf86465ca929
 ---> 35aebbe31ac0
Step 5/9 : ARG SAMPLES_DIR=${WSO2_SERVER_HOME}/samples/artifacts/
 ---> 2d5e92b958f7
Step 7/16 : RUN ["mkdir", "/gogo-resources"]
[Pipeline] // script
 ---> Running in c1cfe07bbf81
[Pipeline] // script
 ---> Running in 559d5dceb40b
[Pipeline] // script
[Pipeline] // script
 ---> Removed intermediate container c1cfe07bbf81
 ---> da96dd6d8f3f
Step 6/9 : ARG APPS=${WSO2_SERVER_HOME}/deployment/siddhi-files
 ---> Running in c53878258ee3
[Pipeline] }
 ---> Removed intermediate container 559d5dceb40b
 ---> 98b48fbbc10e
Step 8/16 : COPY gogo-resources/ /gogo-resources/
[Pipeline] }
 ---> Removed intermediate container c53878258ee3
 ---> d3f28b12ffa8
Step 7/9 : ARG CONFIG_FILE=./configurations.yaml
[Pipeline] }
 ---> 0c326c6d087d
Step 9/16 : RUN ["mkdir", "/railco-resources"]
 ---> Running in dbe86bf5da78
[Pipeline] }
 ---> Running in 37c7de63b334
[Pipeline] // script
 ---> Removed intermediate container dbe86bf5da78
 ---> bdad57c20501
Step 8/9 : ARG CONFIG_FILE_PATH=${HOME}/configurations.yaml
[Pipeline] }
 ---> Running in 3108e005cb23
[Pipeline] // dir
 ---> Removed intermediate container 37c7de63b334
 ---> 68f07116a3af
Step 10/16 : COPY railco-resources/ /railco-resources/
[Pipeline] }
 ---> Removed intermediate container 3108e005cb23
 ---> 21eb9f621dd2
Step 9/9 : COPY ${HOST_APPS_DIR}/ ${APPS}
[Pipeline] // stage
 ---> 68799063b595
Step 11/16 : RUN ["chmod", "+x", "/setup.sh"]
 ---> 685741242629
Successfully built 685741242629
Successfully tagged wezer/si-runtime:efa2ba5
[Pipeline] // stage
 ---> Running in baee6c4b8b4d
[Pipeline] // stage
[Pipeline] // stage
[Pipeline] }
Failed in branch train-schedule-backend
[Pipeline] }
Failed in branch train-location-simulator
[Pipeline] }
Failed in branch telecom-backend
[Pipeline] }
 ---> Removed intermediate container baee6c4b8b4d
 ---> 09418ceb1585
Step 12/16 : RUN ["chmod", "+x", "/tenant-creation.sh"]
Failed in branch soap-service-backend
 ---> Running in ae16f204d787
[Pipeline] // stage
[Pipeline] }
Failed in branch telecom-soap-backend
[Pipeline] // script
 ---> Removed intermediate container ae16f204d787
 ---> 070128b31fc8
Step 13/16 : RUN ["chmod", "+x", "/quantis-resources/deploy-api.sh"]
[Pipeline] }
 ---> Running in fabdd9c9acd9
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
Failed in branch mi-runtime
 ---> Removed intermediate container fabdd9c9acd9
 ---> d3a6d0835827
Step 14/16 : RUN ["chmod", "+x", "/gogo-resources/deploy-api.sh"]
[Pipeline] // withEnv
 ---> Running in ce2c07773889
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withDockerRegistry
Using the existing docker config file.
Removing blacklisted property: auths
$ docker login -u wezer -p ******** https://index.docker.io/v1/
WARNING! Using --password via the CLI is insecure. Use --password-stdin.
WARNING! Your password will be stored unencrypted in /var/lib/jenkins/workspace/wso2apim-tutorial/dockerfiles/streaming-integrator@tmp/ad2ebe42-0753-4ca8-89bd-12fb6c7c7efa/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credential-stores

Login Succeeded
[Pipeline] {
[Pipeline] isUnix
 ---> Removed intermediate container ce2c07773889
 ---> 48f4826bd9af
Step 15/16 : RUN ["chmod", "+x", "/railco-resources/deploy-api.sh"]
[Pipeline] withEnv
[Pipeline] {
 ---> Running in 93017ea3ad31
[Pipeline] sh
+ docker tag wezer/si-runtime:efa2ba5 wezer/si-runtime:efa2ba5
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
 ---> Removed intermediate container 93017ea3ad31
 ---> dc394f74e0d0
Step 16/16 : CMD ["sh", "/setup.sh"]
[Pipeline] sh
+ docker push wezer/si-runtime:efa2ba5
The push refers to repository [docker.io/wezer/si-runtime]
 ---> Running in e991ba54563c
34e5215b1a17: Preparing
5f70bf18a086: Preparing
b80fefdbd968: Preparing
c5fcf5a8641b: Preparing
308028e205ca: Preparing
1a0d0d353f5e: Preparing
a1e80b5dcccc: Preparing
bd4ab391cd10: Preparing
4b7c01ed0534: Preparing
1a0d0d353f5e: Waiting
a1e80b5dcccc: Waiting
bd4ab391cd10: Waiting
4b7c01ed0534: Waiting
5f70bf18a086: Mounted from wso2/wso2si
b80fefdbd968: Mounted from wso2/wso2si
c5fcf5a8641b: Mounted from wso2/wso2si
308028e205ca: Mounted from wso2/wso2si
34e5215b1a17: Pushed
1a0d0d353f5e: Mounted from wso2/wso2si
 ---> Removed intermediate container e991ba54563c
 ---> 810878f22ba0
Successfully built 810878f22ba0
Successfully tagged wezer/apim-scripts:efa2ba5
[Pipeline] }
a1e80b5dcccc: Mounted from wso2/wso2si
bd4ab391cd10: Mounted from wso2/wso2si
4b7c01ed0534: Mounted from wso2/wso2si
[Pipeline] // withEnv
[Pipeline] withEnv
[Pipeline] {
efa2ba5: digest: sha256:161a90e879be29397b563f32be2d505a299b698bc28aa395c90403056721ef15 size: 2205
[Pipeline] }
[Pipeline] withDockerRegistry
Using the existing docker config file.
Removing blacklisted property: auths
$ docker login -u wezer -p ******** https://index.docker.io/v1/
WARNING! Using --password via the CLI is insecure. Use --password-stdin.
WARNING! Your password will be stored unencrypted in /var/lib/jenkins/workspace/wso2apim-tutorial/dockerfiles/scripts@tmp/e136db67-4ece-480e-ba5b-6f8e96cc4b78/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credential-stores

Login Succeeded
[Pipeline] // withEnv
[Pipeline] {
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker tag wezer/si-runtime:efa2ba5 wezer/si-runtime:latest
[Pipeline] sh
+ docker tag wezer/apim-scripts:efa2ba5 wezer/apim-scripts:efa2ba5
[Pipeline] }
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] // withEnv
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker push wezer/si-runtime:latest
The push refers to repository [docker.io/wezer/si-runtime]
34e5215b1a17: Preparing
5f70bf18a086: Preparing
b80fefdbd968: Preparing
c5fcf5a8641b: Preparing
308028e205ca: Preparing
1a0d0d353f5e: Preparing
a1e80b5dcccc: Preparing
bd4ab391cd10: Preparing
4b7c01ed0534: Preparing
1a0d0d353f5e: Waiting
a1e80b5dcccc: Waiting
bd4ab391cd10: Waiting
4b7c01ed0534: Waiting
[Pipeline] sh
308028e205ca: Layer already exists
5f70bf18a086: Layer already exists
c5fcf5a8641b: Layer already exists
b80fefdbd968: Layer already exists
34e5215b1a17: Layer already exists
+ docker push wezer/apim-scripts:efa2ba5
The push refers to repository [docker.io/wezer/apim-scripts]
1a0d0d353f5e: Layer already exists
a1e80b5dcccc: Layer already exists
4b7c01ed0534: Layer already exists
bd4ab391cd10: Layer already exists
e4bbf9edb763: Preparing
4cf75a8ac169: Preparing
ccb69ae7c4eb: Preparing
678e22eac69d: Preparing
92ff192f0076: Preparing
17e11cc34b61: Preparing
00d2af5b9ae8: Preparing
4d5bec40d3a8: Preparing
882366cf6a4e: Preparing
c38016f09681: Preparing
8cdadf6a7c17: Preparing
701911e365d1: Preparing
13c8bd142fc3: Preparing
b5bfae042634: Preparing
3fc64803ca2d: Preparing
17e11cc34b61: Waiting
00d2af5b9ae8: Waiting
4d5bec40d3a8: Waiting
882366cf6a4e: Waiting
c38016f09681: Waiting
8cdadf6a7c17: Waiting
701911e365d1: Waiting
13c8bd142fc3: Waiting
b5bfae042634: Waiting
3fc64803ca2d: Waiting
latest: digest: sha256:161a90e879be29397b563f32be2d505a299b698bc28aa395c90403056721ef15 size: 2205
678e22eac69d: Pushed
e4bbf9edb763: Pushed
4cf75a8ac169: Pushed
92ff192f0076: Pushed
ccb69ae7c4eb: Pushed
[Pipeline] }
[Pipeline] // withEnv
17e11cc34b61: Pushed
00d2af5b9ae8: Pushed
[Pipeline] }
882366cf6a4e: Pushed
4d5bec40d3a8: Pushed
c38016f09681: Pushed
8cdadf6a7c17: Pushed
701911e365d1: Pushed
[Pipeline] // withDockerRegistry
13c8bd142fc3: Pushed
3fc64803ca2d: Mounted from library/alpine
b5bfae042634: Pushed
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] echo
--- Successfully pushed wezer/si-runtime:efa2ba5 and wezer/si-runtime:latest ---
[Pipeline] }
efa2ba5: digest: sha256:dfc4abe6f6f70237d12fdc6b48bdc5706468688d3db44355187ae797ce052089 size: 3444
[Pipeline] // dir
[Pipeline] }
[Pipeline] }
[Pipeline] // script
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker tag wezer/apim-scripts:efa2ba5 wezer/apim-scripts:latest
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker push wezer/apim-scripts:latest
The push refers to repository [docker.io/wezer/apim-scripts]
e4bbf9edb763: Preparing
4cf75a8ac169: Preparing
ccb69ae7c4eb: Preparing
678e22eac69d: Preparing
92ff192f0076: Preparing
17e11cc34b61: Preparing
00d2af5b9ae8: Preparing
4d5bec40d3a8: Preparing
882366cf6a4e: Preparing
c38016f09681: Preparing
8cdadf6a7c17: Preparing
701911e365d1: Preparing
13c8bd142fc3: Preparing
b5bfae042634: Preparing
3fc64803ca2d: Preparing
17e11cc34b61: Waiting
00d2af5b9ae8: Waiting
4d5bec40d3a8: Waiting
13c8bd142fc3: Waiting
882366cf6a4e: Waiting
b5bfae042634: Waiting
3fc64803ca2d: Waiting
c38016f09681: Waiting
8cdadf6a7c17: Waiting
701911e365d1: Waiting
4cf75a8ac169: Layer already exists
678e22eac69d: Layer already exists
e4bbf9edb763: Layer already exists
92ff192f0076: Layer already exists
ccb69ae7c4eb: Layer already exists
17e11cc34b61: Layer already exists
882366cf6a4e: Layer already exists
4d5bec40d3a8: Layer already exists
00d2af5b9ae8: Layer already exists
c38016f09681: Layer already exists
b5bfae042634: Layer already exists
701911e365d1: Layer already exists
8cdadf6a7c17: Layer already exists
13c8bd142fc3: Layer already exists
3fc64803ca2d: Layer already exists
latest: digest: sha256:dfc4abe6f6f70237d12fdc6b48bdc5706468688d3db44355187ae797ce052089 size: 3444
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withDockerRegistry
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] echo
--- Successfully pushed wezer/apim-scripts:efa2ba5 and wezer/apim-scripts:latest ---
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // parallel
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE
